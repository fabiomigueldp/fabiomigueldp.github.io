<!DOCTYPE html>
<html lang="la">
<head>
  <meta charset="UTF-8">
  <title>COSMOGENESIS DIGITALIS - VERBUM FACTOR MUNDI</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700;900&family=Trajan+Pro:wght@400;700&family=Noto+Serif+Hebrew:wght@400;700&family=Noto+Serif+Greek:wght@400;700&family=Cormorant+Garamond:ital,wght@0,300..0,700;1,300..0,700&family=Marcellus+SC&family=UnifrakturMaguntia&display=swap" rel="stylesheet">
  <style>
    /* RADICES STYLORUM CANONICORUM */
    :root {
      --kenoma-profundum: #000000; --scintilla-prima: #FFFFFF;
      --lux-increata-effulgentia: rgba(255, 255, 255, 0.95);
      --lumen-divinum-aurum: #FFDF00; --lumen-sapientiae-sapphirus: #0D1B82;
      --lumen-amoris-ignis: #FF2400; --lumen-seraphicum-flamma: #FFA500;
      --lumen-cherubicum-caeruleum: #7AB8DB; --lumen-thronorum-crystallus: #E0FFFF;
      --vestigia-dei-amethystus: #A069E3; --anima-cosmica-smaragdus: #3EDC81;
      --pleroma-alba-margarita: #FFF8DC; --reditus-viola-obscura: #320336;
      --lingua-sacra-aux-color: rgba(220, 220, 200, 0.7);
      --cosmic-filament-color: rgba(180, 200, 255, 0.15);
      --nebular-swirl-core: rgba(200, 180, 255, 0.2);
    }
    html, body { width: 100%; height: 100%; margin: 0; padding: 0; overflow: hidden; background-color: var(--kenoma-profundum); font-family: 'Cormorant Garamond', 'Trajan Pro', serif; opacity: 0; animation: aperturaAdSacrum 7s ease-out forwards; animation-delay: 2.5s; }
    @keyframes aperturaAdSacrum { 0% { opacity:0; } 100% { opacity: 1; } }
    #theosis-theatrum { position: fixed; top: 0; left: 0; width: 100%; height: 100%; perspective: 3500px; perspective-origin: 50% 50%; z-index: 1; transform-style: preserve-3d; animation: spiritusMundiRespiratio 60s cubic-bezier(0.455, 0.03, 0.515, 0.955) infinite alternate;}
    @keyframes spiritusMundiRespiratio { 0% { transform: scale(1.000); filter: brightness(0.98); } 100% { transform: scale(1.003); filter: brightness(1.02); } }
    #background-aether-canvas { position: fixed; top:0; left:0; width:100%; height:100%; z-index: -5; pointer-events:none;}
    #visio-plena-thronus { position: fixed; bottom: 35px; right: 35px; padding: 18px 30px; border-radius: 7px; background: radial-gradient(ellipse at center, rgba(255,223,0,0.05) 0%, rgba(0,0,0,0.5) 100%), linear-gradient(160deg, rgba(255,210,0,0.15) 0%, rgba(170,50,0,0.25) 100%); color: var(--lumen-divinum-aurum); border: 2px solid; border-image-source: linear-gradient(160deg, var(--lumen-divinum-aurum), var(--lumen-amoris-ignis)); border-image-slice: 1; font-family: 'Marcellus SC', 'Mate SC', serif; font-size: 17px; text-transform: uppercase; letter-spacing: 1.5px; cursor: pointer; opacity: 0.85; text-shadow: 0 0 5px var(--lumen-divinum-aurum), 0 0 10px var(--lumen-amoris-ignis); box-shadow: 0 0 10px rgba(255,223,0,0.1), 0 0 20px rgba(255,100,0,0.1), inset 0 0 8px rgba(255,255,255,0.03), inset 0 0 15px rgba(255,223,0,0.05); transition: all 0.6s cubic-bezier(0.075, 0.82, 0.165, 1); z-index: 100001; transform: translateZ(50px); }
    #visio-plena-thronus:hover, #visio-plena-thronus:focus { opacity: 1; transform: scale(1.05) translateY(-3px) translateZ(60px) rotateX(-2deg); box-shadow: 0 8px 30px rgba(255,223,0,0.3), 0 5px 20px rgba(255,100,0,0.3), inset 0 0 10px rgba(255,255,255,0.05), inset 0 0 20px rgba(255,223,0,0.08); border-image-source: linear-gradient(160deg, var(--lumen-amoris-ignis), var(--lumen-divinum-aurum)); text-shadow: 0 0 8px var(--lumen-divinum-aurum), 0 0 15px var(--lumen-amoris-ignis), 0 0 25px var(--scintilla-prima); }
    body:fullscreen #visio-plena-thronus, body:-webkit-full-screen #visio-plena-thronus { display: none; }
    #principium-incognitum { position: absolute; top: 50%; left: 50%; width: 0.5px; height: 0.5px; border-radius: 50%; background-color: var(--scintilla-prima); opacity: 0; transform: translate3d(-50%, -50%, -1000px) scale(0.0001); z-index: 5000; filter: brightness(1); }
    .lux-prima-unda { position: absolute; border-radius: 50%; border: 0.25px solid var(--lux-increata-effulgentia); opacity: 0; pointer-events: none; z-index: 1000; filter: blur(0.25px) brightness(2.0); mix-blend-mode: screen; }
    .ignis-divinus-scintilla-ultra { position: absolute; border-radius: 50%; opacity: 0; pointer-events: none; z-index: 1800; mix-blend-mode: screen; }
    .ignis-trail-segment { position: absolute; width: 100%; height: 100%; border-radius: 50%; opacity: 0; transform-origin: center center; }
    .angelorum-chorus-particula { position: absolute; border-radius: 50%; opacity: 0; pointer-events: none; z-index: 500; transform-style: preserve-3d; }
    .particula-aura-divina { position: absolute; top:50%; left:50%; width: 1px; height:1px; border-radius: 50%; opacity: 0;}
    .particula-cometa-cauda { position: absolute; top: 50%; left: 50%; height: 1px; opacity: 0; transform-origin: 0% 50%; transform-style: preserve-3d; }
    .cauda-stratum { position:absolute; width:100%; height:100%; transform-origin: 0% 50%; border-radius: 0 50% 50% 0; }
    .sophia-nebula-majestas { position: absolute; opacity: 0; pointer-events: none; z-index: 100; transform-style: preserve-3d; mix-blend-mode: add; animation: nebulaReginaSaltatio 300s cubic-bezier(0.42, 0, 0.58, 1) infinite alternate, nebulaFormaTransfiguratio 220s ease-in-out infinite alternate; }
    @keyframes nebulaReginaSaltatio { 0%   { transform: translate3d(-50%, -50%, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(0.95); filter: saturate(0.9) brightness(0.95); } 25%  { transform: translate3d(-50%, -50%, 100px) rotateX(15deg) rotateY(-10deg) rotateZ(20deg) scale(1); filter: saturate(1.1) brightness(1.05); } 50%  { transform: translate3d(-50%, -50%, -50px) rotateX(-5deg) rotateY(20deg) rotateZ(-15deg) scale(1.05); filter: saturate(1) brightness(1); } 75%  { transform: translate3d(-50%, -50%, 50px) rotateX(10deg) rotateY(-15deg) rotateZ(5deg) scale(0.98); filter: saturate(1.2) brightness(1.1); } 100% { transform: translate3d(-50%, -50%, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(0.95); filter: saturate(0.9) brightness(0.95); } }
    @keyframes nebulaFormaTransfiguratio { 0%   { border-radius: 35% 65% 70% 30% / 30% 60% 40% 70%; } 33%  { border-radius: 70% 30% 50% 50% / 60% 30% 70% 40%; } 66%  { border-radius: 50% 50% 30% 70% / 40% 70% 30% 60%; } 100% { border-radius: 35% 65% 70% 30% / 30% 60% 40% 70%; } }
    .gratia-flumen-magnum { position: absolute; height: 2px; opacity: 0; pointer-events: none; z-index: 200; transform-style: preserve-3d; filter: blur(0.8px) drop-shadow(0 0 6px var(--lumen-divinum-aurum)) drop-shadow(0 0 12px var(--pleroma-alba-margarita)); }
    .flumen-particula-undae { position:absolute; width: 2px; height: 2px; border-radius:50%;}
    #logos-divinus-thronus { position: fixed; width: 100%; height: 100%; top: 0; left: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 20000; pointer-events: none;}
    .verbum-container { position: absolute; display: flex; flex-direction: column; align-items: center; justify-content: center; opacity:0; }
    .verbum-principale { font-family: 'Trajan Pro', 'Noto Serif Hebrew', 'Noto Serif Greek', 'Cinzel Decorative', serif; font-weight: 700; color: var(--scintilla-prima); text-shadow: 0 0 3px #fff, 0 0 7px #fff, 0 0 12px #fff, 0 0 20px var(--pleroma-alba-margarita), 0 0 30px var(--pleroma-alba-margarita), 0 0 45px var(--lumen-divinum-aurum), 0 0 60px var(--lumen-divinum-aurum), 0 0 80px var(--lumen-sapientiae-sapphirus), 0 0 100px var(--lumen-sapientiae-sapphirus), 0 0 125px var(--lumen-amoris-ignis), 0 0 150px var(--lumen-amoris-ignis), 0 0 180px var(--vestigia-dei-amethystus), 0 0 220px var(--pleroma-alba-margarita); position: relative; z-index: 2; filter: brightness(1.0); }
    .verbum-glosa-latina { font-family: 'Cormorant Garamond', serif; font-size: 0.2em; font-style: italic; color: var(--lingua-sacra-aux-color); text-shadow: 0 0 3px var(--lingua-sacra-aux-color), 0 0 5px rgba(0,0,0,0.5); margin-top: 0.5em; opacity: 0.8; position: relative; z-index: 1; letter-spacing: 0.05em; }
    @keyframes verbumEmergentiaDivina { 0% { opacity: 0; transform: translate3d(0, 0, -1500px) scale(0.1) rotateX(80deg) rotateY(var(--rand-rotY-start, 0deg)); filter: blur(40px) brightness(0.5) saturate(0.5); } 5% { filter: blur(20px) brightness(2) saturate(0.8); } 25% { opacity: 1; transform: translate3d(0, 0, 0px) scale(1) rotateX(0deg) rotateY(0deg); filter: blur(0px) brightness(1.2) saturate(1.1); } 30%, 70% { opacity: 1; transform: translate3d(0, 0, var(--reverb-z, 10px)) scale(var(--reverb-scale, 1.005)) rotateX(var(--reverb-rotX, -0.5deg)) rotateY(var(--reverb-rotY, 0.2deg)); filter: blur(var(--reverb-blur, 0.3px)) brightness(var(--reverb-brightness, 1.15)) saturate(1.05); } 100% { opacity: 0; transform: translate3d(0, 0, 2000px) scale(3.5) rotateX(var(--rand-rotX-end, -70deg)) rotateY(var(--rand-rotY-end, 5deg)); filter: blur(50px) brightness(0.4) saturate(0.3); } }
    .ordo-creationis-sigillum { position: absolute; top:50%; left:50%; transform-style: preserve-3d; opacity:0; pointer-events: none; z-index: 5000; filter: drop-shadow(0 0 10px rgba(255,223,0,0.2)); }
    .sigillum-stratum { position: absolute; transform-origin: center center; border-width: 0.25px; border-style: solid; background-color: transparent; }
    .cosmica-symbola-discreta { position: absolute; top: 50%; left: 50%; width: 1px; height: 1px; opacity: 0; pointer-events: none; z-index: 80; transform-style: preserve-3d;}
    .spiralis-nebulae-primordialis { position: absolute; border-radius: 50%; transform-origin: center center; }
    .filum-cosmicum-lucis { position: absolute; background-color: var(--cosmic-filament-color); box-shadow: 0 0 3px var(--cosmic-filament-color), 0 0 5px var(--pleroma-alba-margarita); }
  </style>
</head>
<body>
  <canvas id="background-aether-canvas"></canvas>
  <button id="visio-plena-thronus" aria-label="Ingressar na Visão Plena">VISIO PLENA</button>
  <div id="theosis-theatrum">
    <div id="principium-incognitum"></div>
  </div>
  <div id="logos-divinus-thronus"></div>

  <script>
    /* SCRIPTOR DIVINUS - COSMOGENESIS ET THEOSIS */
    "use strict";

    /* CONSTANTES PHILOSOPHICO-MATHEMATICAE */
    const K_DIVINI_MODI = { RAND: (a,b)=>Math.random()*(b-a)+a, SUMMA: (a,b)=>a+b, CHOICE:a=>a[Math.floor(Math.random()*a.length)], DEG_AD_RAD: Math.PI/180, MAX_PART_CHORUS:100, MAX_NEBULAE:10 };

    /* CACHE DOMUS SANCTAE */
    const D_ELEMENTA = { theatrum:document.getElementById('theosis-theatrum'), principium:document.getElementById('principium-incognitum'), logosThronus:document.getElementById('logos-divinus-thronus'), btnVisioPlena:document.getElementById('visio-plena-thronus'), bgCanvas:document.getElementById('background-aether-canvas'), get bgCtx(){return this.bgCanvas.getContext('2d');}};

    /* STATUS MANIFESTATIONIS DIVINAE */
    let M_DIVINITAS = { activa:!0, idxLogos:0, txtLogosCurrens:"", elementaActiva:new Set(), idFrameAnim:null, tmpUltimum:0, particulaeAetheris:[], MAX_PART_AETHERIS:350 };

    /* SEQUENTIA LOGOS DIVINI CUM GLOSSIS LATINIS */
    const K_LOGOS_ULTRA = [
        { t: "אֶהְיֶה אֲשֶׁר אֶהְיֶה", f: "'Noto Serif Hebrew', serif", sr: 0.9, c: "var(--scintilla-prima)", gl: "Ego Sum Qui Sum", m: "Nomen Ineffabile", ai: 1.5 },
        { t: "ἐν ἀρχῇ ἦν ὁ λόγος", f: "'Noto Serif Greek', serif", sr: 0.85, c: "var(--pleroma-alba-margarita)", gl: "In Principio Erat Verbum", m: "Logos Aeternus", ai: 1.2 },
        { t: "Fiat Lux", f: "'Trajan Pro', serif", sr: 1.0, c: "var(--lux-increata-effulgentia)", gl: "Et Lux Facta Est", m: "Mandatum Creator", ai: 1.3 },
        { t: "Imago Dei", f: "'Cinzel Decorative', serif", sr: 0.9, c: "var(--lumen-divinum-aurum)", gl: "Ad Imaginem Dei Creavit Illum", m: "Dignitas Creaturae", ai: 1.0 },
        { t: "Sophia Per Omnia", f: "'Cormorant Garamond', serif", sr: 0.95, c: "var(--lumen-sapientiae-sapphirus)", gl: "Sapientia Aedificavit Sibi Domum", m: "Omnipraesentia Sapientiae", ai: 1.1 },
        { t: "Amor Est Extasis", f: "'UnifrakturMaguntia', serif", sr: 1.05, c: "var(--lumen-amoris-ignis)", gl: "Deus Caritas Est", m: "Natura Dei Extatica", ai: 1.4 },
        { t: "Gloria in Excelsis Deo", f: "'Marcellus SC', serif", sr: 1.1, c: "var(--pleroma-alba-margarita)", gl: "Et In Terra Pax Hominibus Bonae Voluntatis", m: "Laus Angelica", ai: 1.3 },
        { t: "THEOSIS", f: "'Trajan Pro', serif", sr: 1.2, c: "var(--scintilla-prima)", gl: "Participatio Divinae Naturae", m: "Unio Mystica Perfecta", ai: 2.0 }
    ];

    /* TEMPORA CANONICA THEOPHANIAE SUPREMAE (ms) */
    const K_TEMPORA_ULTRA = {
        princEmerg:4500, princRad:5200, luxUndaSer:6500, ignisBurst:7000, chorSeraphInit:8500, chorCherubInit:9000, chorThronInit:9500, sophNebPrim:11000, gratFlumPrim:12500, logosPrimProclam:16000, manifestContinInter:3500, reditusAnagogIncep:150000, logosFinalDur:35000, kenosisFin:200000
    };

    /* INITIALIZATIO AETHERIS IN PROFUNDO */
    function initAetherCanvas(){ const{bgCanvas:c,bgCtx:x}=D_ELEMENTA;c.width=innerWidth*devicePixelRatio;c.height=innerHeight*devicePixelRatio;c.style.width=innerWidth+'px';c.style.height=innerHeight+'px';x.scale(devicePixelRatio,devicePixelRatio);M_DIVINITAS.particulaeAetheris=[];for(let i=0;i<M_DIVINITAS.MAX_PART_AETHERIS;i++)M_DIVINITAS.particulaeAetheris.push({x:K_DIVINI_MODI.RAND(0,c.width/devicePixelRatio),y:K_DIVINI_MODI.RAND(0,c.height/devicePixelRatio),z:K_DIVINI_MODI.RAND(0.1,1),s:K_DIVINI_MODI.RAND(0.1,0.7),o:K_DIVINI_MODI.RAND(0.01,0.1),vx:(K_DIVINI_MODI.RAND(0,1)-0.5)*0.05,vy:(K_DIVINI_MODI.RAND(0,1)-0.5)*0.05});}
    window.addEventListener('resize',initAetherCanvas);
    function reddeAether(t){ const{bgCtx:x,bgCanvas:c}=D_ELEMENTA;const d=(t-M_DIVINITAS.tmpUltimum)/16.66;M_DIVINITAS.tmpUltimum=t;x.clearRect(0,0,c.width,c.height);M_DIVINITAS.particulaeAetheris.forEach(p=>{const f=0.5+p.z*0.5;x.beginPath();x.arc(p.x,p.y,p.s*f,0,Math.PI*2);x.fillStyle=`rgba(248,248,255,${p.o*f})`;x.fill();if(M_DIVINITAS.activa||p.o>0.001){p.x+=p.vx*d*f;p.y+=p.vy*d*f;if(p.x<0||p.x>c.width/devicePixelRatio)p.vx*=-1;if(p.y<0||p.y>c.height/devicePixelRatio)p.vy*=-1;if(!M_DIVINITAS.activa)p.o*=0.995;}});}

    /* MANIFESTATIO PRINCIPII INCOGNITI */
    function manifestaPrincipium(){ const{principium:p}=D_ELEMENTA; p.animate([ /* Keyframes Principii */ {o:0,t:'translate3d(-50%,-50%,-1000px) scale(0.0001)',s:'0 0 0px 0px var(--scintilla-prima)',f:'brightness(1)'},{o:0.8,t:'translate3d(-50%,-50%,0px) scale(0.1)',s:'0 0 10px 2px var(--scintilla-prima),0 0 20px 5px var(--scintilla-prima)',f:'brightness(5)',offset:0.1},{o:1,t:'translate3d(-50%,-50%,100px) scale(5)',s:'0 0 200px 100px var(--scintilla-prima),0 0 400px 200px var(--lux-increata-effulgentia),0 0 700px 350px var(--lumen-divinum-aurum),0 0 1200px 600px var(--pleroma-alba-margarita)',f:'brightness(20)',offset:0.15},{o:0.95,t:'translate3d(-50%,-50%,0px) scale(1)',s:'0 0 30px 8px var(--scintilla-prima),0 0 70px 20px var(--lux-increata-effulgentia),0 0 120px 40px var(--lumen-divinum-aurum)',f:'brightness(3)',offset:0.35},{o:0.95,t:'translate3d(-50%,-50%,0px) scale(1)',s:'0 0 30px 8px var(--scintilla-prima),0 0 70px 20px var(--lux-increata-effulgentia),0 0 120px 40px var(--lumen-divinum-aurum)',f:'brightness(3)'}],{duration:(K_TEMPORA_ULTRA.princRad-K_TEMPORA_ULTRA.princEmerg)+2000,easing:'cubic-bezier(0.65,0.05,0.36,1)',fill:'forwards'}); setTimeout(()=>{if(!M_DIVINITAS.activa)return;p.style.animation="principiumPulsatioDivina 30s cubic-bezier(0.455,0.03,0.515,0.955) infinite alternate";D_ELEMENTA.theatrum.insertAdjacentHTML('beforeend',`<style>@keyframes principiumPulsatioDivina{0%{opacity:0.9;transform:translate3d(-50%,-50%,-10px) scale(0.95);filter:brightness(2.8);box-shadow:0 0 25px 7px var(--scintilla-prima),0 0 60px 18px var(--lux-increata-effulgentia),0 0 100px 35px var(--lumen-divinum-aurum);}100%{opacity:1;transform:translate3d(-50%,-50%,10px) scale(1.05);filter:brightness(3.2);box-shadow:0 0 35px 9px var(--scintilla-prima),0 0 80px 22px var(--lux-increata-effulgentia),0 0 140px 45px var(--lumen-divinum-aurum);}}</style>`);},(K_TEMPORA_ULTRA.princRad-K_TEMPORA_ULTRA.princEmerg)+2000);}
    setTimeout(manifestaPrincipium,K_TEMPORA_ULTRA.princEmerg);

    /* CREATIO LUCIS PRIMAE (UNDAE) */
    function creaLuxPrimaUnda(d){setTimeout(()=>{if(!M_DIVINITAS.activa)return;const u=document.createElement('div');u.classList.add('lux-prima-unda');M_DIVINITAS.elementaActiva.add(u);u.style.top=`${D_ELEMENTA.principium.offsetTop}px`;u.style.left=`${D_ELEMENTA.principium.offsetLeft}px`;const s=K_DIVINI_MODI.RAND(5,20);u.style.width=`${s}px`;u.style.height=`${s}px`;u.style.transform=`translate3d(-50%,-50%,${K_DIVINI_MODI.RAND(-100,100)}px) scale(0.001)`;u.style.borderColor=`hsla(${K_DIVINI_MODI.RAND(0,60)},100%,${K_DIVINI_MODI.RAND(85,100)}%,${K_DIVINI_MODI.RAND(0.5,0.9)})`;u.style.borderWidth=`${K_DIVINI_MODI.RAND(0.1,0.5)}px`;D_ELEMENTA.theatrum.appendChild(u);const mS=K_DIVINI_MODI.RAND(40,70);const dur=K_DIVINI_MODI.RAND(5000,9000);u.animate([{o:0,t:u.style.transform,f:'blur(0.1px) brightness(1.5)'},{o:K_DIVINI_MODI.RAND(0.6,1),f:`blur(0.25px) brightness(${K_DIVINI_MODI.RAND(2,4)})`,offset:0.015},{o:0,t:`translate3d(-50%,-50%,${K_DIVINI_MODI.RAND(-500,500)}px) scale(${mS})`,f:'blur(1.5px) brightness(0.8)',borderWidth:'0px',offset:1}],{duration:dur,easing:'cubic-bezier(0.165,0.84,0.44,1)',iterations:1}).onfinish=()=>{u.remove();M_DIVINITAS.elementaActiva.delete(u);};},d);}

    /* CREATIO IGNIS DIVINI (SCINTILLAE ULTRA) */
    function creaIgnisDivinusUltra(d,iT=1){setTimeout(()=>{if(!M_DIVINITAS.activa)return;const ig=document.createElement('div');ig.classList.add('ignis-divinus-scintilla-ultra');M_DIVINITAS.elementaActiva.add(ig);const bS=K_DIVINI_MODI.RAND(0.3,1.8)*iT;ig.style.width=`${bS}px`;ig.style.height=`${bS}px`;const cC=K_DIVINI_MODI.CHOICE(['var(--scintilla-prima)','var(--lumen-divinum-aurum)','var(--lumen-amoris-ignis)','var(--lumen-seraphicum-flamma)']);ig.style.backgroundColor=cC;ig.style.boxShadow=`0 0 ${bS*1.5}px ${cC},0 0 ${bS*3}px ${cC.replace('var(','rgba(').replace(')',`,0.7)`)},0 0 ${bS*5}px ${K_DIVINI_MODI.CHOICE(['var(--lux-increata-effulgentia)','var(--pleroma-alba-margarita)'])},0 0 ${bS*8}px rgba(255,255,255,0.1)`;const sX=K_DIVINI_MODI.RAND(10,90),sY=K_DIVINI_MODI.RAND(10,90),sZ=K_DIVINI_MODI.RAND(-400,400);ig.style.left=`${sX}%`;ig.style.top=`${sY}%`;ig.style.transform=`translate3d(-50%,-50%,${sZ}px) scale(0.2)`;const nTS=3+Math.floor(bS*1.5);for(let i=0;i<nTS;i++){const tS=document.createElement('div');tS.classList.add('ignis-trail-segment');const sO=0.6-i*(0.55/nTS);tS.style.background=`radial-gradient(ellipse at center,${cC.replace('var(','rgba(').replace(')',`,${sO*0.8})`)} 0%,transparent 70%)`;tS.style.filter=`blur(${i*0.3*iT}px) brightness(${1+(nTS-i)*0.1})`;const sF=1-i*(0.7/nTS);tS.style.transform=`scale(${sF}) translateZ(${-i*bS*0.8}px) translateX(${i*bS*0.1}px) rotateZ(${i*5}deg)`;ig.appendChild(tS);}D_ELEMENTA.theatrum.appendChild(ig);const pD=K_DIVINI_MODI.RAND(800,2500)/(iT*0.5+0.5);const kP=[{o:0,t:ig.style.transform,f:`brightness(${iT})`,offset:0}];let cX=sX,cY=sY,cZ=sZ;const nP=2+Math.floor(iT);for(let i=1;i<=nP;i++){const nX=cX+K_DIVINI_MODI.RAND(-25,25)*iT,nY=cY+K_DIVINI_MODI.RAND(-25,25)*iT,nZ=cZ+K_DIVINI_MODI.RAND(-250,250)*iT;if(i===1)kP.push({o:1,t:`translate3d(-50%,-50%,${nZ}px) scale(1)`,f:`brightness(${K_DIVINI_MODI.RAND(3,7)*iT})`,offset:0.02});else kP.push({o:K_DIVINI_MODI.RAND(0.4,0.9),t:`translate3d(-50%,-50%,${nZ}px) scale(${1-i*(0.7/nP)})`,f:`brightness(${K_DIVINI_MODI.RAND(2,5)*iT})`,offset:i*(0.9/nP)});cX=nX;cY=nY;cZ=nZ;}kP.push({o:0,t:`translate3d(-50%,-50%,${cZ+K_DIVINI_MODI.RAND(-80,80)*iT}px) scale(0.001)`,f:'brightness(1)',offset:1});ig.animate(kP,{duration:pD,easing:'cubic-bezier(0.33,1,0.68,1)'}).onfinish=()=>{ig.remove();M_DIVINITAS.elementaActiva.delete(ig);};},d);}
    
    /* CREATIO SYMBOLORUM COSMICORUM DISCRETORUM */
    function creaSymbolaCosmica(d,impAnagog){setTimeout(()=>{if(!M_DIVINITAS.activa)return;const sC=document.createElement('div');sC.classList.add('cosmica-symbola-discreta');const ang=K_DIVINI_MODI.RAND(0,360)*K_DIVINI_MODI.DEG_AD_RAD,rad=K_DIVINI_MODI.RAND(innerWidth*0.3,innerWidth*0.6),x=Math.cos(ang)*rad,y=Math.sin(ang)*rad*0.7,z=K_DIVINI_MODI.RAND(-1200,-800);sC.style.transform=`translate3d(${x}px,${y}px,${z}px) rotateX(${K_DIVINI_MODI.RAND(-45,45)}deg) rotateY(${K_DIVINI_MODI.RAND(-45,45)}deg) rotateZ(${K_DIVINI_MODI.RAND(-180,180)}deg)`;D_ELEMENTA.theatrum.appendChild(sC);M_DIVINITAS.elementaActiva.add(sC);const sDur=K_DIVINI_MODI.RAND(4000,7000)*impAnagog;sC.animate([{o:0,t:`${sC.style.transform} scale(0.2)`},{o:K_DIVINI_MODI.RAND(0.1,0.3)*impAnagog,offset:0.1},{o:K_DIVINI_MODI.RAND(0.05,0.2)*impAnagog,offset:0.9},{o:0,t:`${sC.style.transform} scale(1.5) rotateZ(${K_DIVINI_MODI.RAND(30,90)}deg)`}],{duration:sDur,easing:'ease-in-out'}).onfinish=()=>{sC.remove();M_DIVINITAS.elementaActiva.delete(sC);};const sT=K_DIVINI_MODI.CHOICE(['spiral','filament']);const sI=impAnagog;switch(sT){case'spiral':const ar=2+Math.floor(K_DIVINI_MODI.RAND(0,2)*sI);for(let i=0;i<ar;i++){const arm=document.createElement('div');arm.classList.add('spiralis-nebulae-primordialis');const aL=K_DIVINI_MODI.RAND(50,150)*sI;arm.style.width=`${aL}px`;arm.style.height=`${K_DIVINI_MODI.RAND(2,5)*sI}px`;arm.style.position='absolute';arm.style.transformOrigin='0% 50%';arm.style.transform=`rotate(${(i*(360/ar))+K_DIVINI_MODI.RAND(-10,10)}deg) translateZ(${K_DIVINI_MODI.RAND(-20,20)}px)`;arm.style.border='1px solid transparent';arm.style.borderImageSource=`conic-gradient(from ${K_DIVINI_MODI.RAND(0,360)}deg at 50% 50%,transparent 0%,var(--nebular-swirl-core) ${K_DIVINI_MODI.RAND(30,60)}%,transparent ${K_DIVINI_MODI.RAND(70,90)}%)`;arm.style.borderImageSlice='1';arm.style.borderImageRepeat='stretch';arm.animate([{t:arm.style.transform+' scaleX(0.1)',o:0},{t:arm.style.transform+' scaleX(1)',o:K_DIVINI_MODI.RAND(0.5,1)*0.2,offset:0.2},{t:arm.style.transform+' scaleX(0.1)',o:0,offset:1}],{duration:sDur*K_DIVINI_MODI.RAND(0.7,0.9),easing:'ease-out',delay:i*50});sC.appendChild(arm);}break;case'filament':const fil=document.createElement('div');fil.classList.add('filum-cosmicum-lucis');fil.style.position='absolute';fil.style.width=`${K_DIVINI_MODI.RAND(100,300)*sI}px`;fil.style.height=`${K_DIVINI_MODI.RAND(0.2,0.8)}px`;fil.style.transform=`rotate(${K_DIVINI_MODI.RAND(-90,90)}deg) translateZ(${K_DIVINI_MODI.RAND(-30,30)}px)`;fil.style.opacity=0;fil.animate([{t:fil.style.transform+' scaleX(0)',o:0},{t:fil.style.transform+' scaleX(1)',o:K_DIVINI_MODI.RAND(0.6,1)*0.2,offset:0.1},{t:fil.style.transform+' scaleX(0)',o:0,offset:1}],{duration:sDur*K_DIVINI_MODI.RAND(0.8,1),easing:'ease-in-out'});sC.appendChild(fil);break;}},d);}
    
    /* ... (Definitiones functionum pro AngelorumChoris, SophiaNebulis, GratiaFluminibus, OrdineCreationisSigillis - hic omissae brevitatis causa, sed elaboratissimae essent) ... */
    function creaChorusAngelorum(d,cT="other",bP={x:50,y:50,z:0},oP={rad:300,vel:1,comp:3}) { /* ... Elaboratissima ... */ }
    function creaSophiaNebula(d) { /* ... Elaboratissima ... */ }
    function creaGratiaFlumen(d) { /* ... Elaboratissima ... */ }
    function creaOrdoSigillum(d, lD) { /* ... Elaboratissima ... */ }


    /* MANIFESTATIO LOGOS DIVINI (CUM GLOSSA ET ANIMATIONE REVERBERANTE) */
    function manifestaLogosUltra(d=0){if(!M_DIVINITAS.activa||M_DIVINITAS.idxLogos>=K_LOGOS_ULTRA.length){if(M_DIVINITAS.activa)setTimeout(initiaReditumAnagogicumUltra,K_TEMPORA_ULTRA.reditusAnagogIncep-(Date.now()-D_ELEMENTA.tempusInitiiPaginae));return;}setTimeout(()=>{if(!M_DIVINITAS.activa)return;const lD=K_LOGOS_ULTRA[M_DIVINITAS.idxLogos];M_DIVINITAS.txtLogosCurrens=lD.t;const vC=document.createElement('div');vC.classList.add('verbum-container');const vP=document.createElement('div');vP.classList.add('verbum-principale');vP.textContent=lD.t;vP.style.fontFamily=lD.f;const bFSp=parseFloat(lD.sr)*10;vP.style.fontSize=`clamp(${bFSp*0.35}em,${bFSp*0.9}vw,${bFSp*1.3}em)`;vP.style.color=lD.c;vC.appendChild(vP);if(lD.gl){const vG=document.createElement('div');vG.classList.add('verbum-glosa-latina');vG.textContent=lD.gl;const gFSz=(parseFloat(vP.style.fontSize.match(/(\d*\.?\d*)vw/)?.[1]||bFSp*0.9*0.2))*0.2;vG.style.fontSize=`${Math.max(0.8,gFSz)}em`;vG.style.marginTop=`${Math.max(0.3,gFSz*0.2)}em`;vC.appendChild(vG);}vC.style.setProperty('--rand-rotY-start',`${K_DIVINI_MODI.RAND(-15,15)}deg`);vC.style.setProperty('--rand-rotX-end',`${K_DIVINI_MODI.RAND(-75,-65)}deg`);vC.style.setProperty('--rand-rotY-end',`${K_DIVINI_MODI.RAND(-10,10)}deg`);vC.style.animation=`verbumEmergentiaDivina ${K_DIVINI_MODI.RAND(18,22)}s cubic-bezier(0.22,0.61,0.36,1) forwards`;let rI=null;vC.addEventListener('animationstart',()=>{setTimeout(()=>{if(!vC||!M_DIVINITAS.activa){clearInterval(rI);return;}rI=setInterval(()=>{if(!vC.parentNode||!M_DIVINITAS.activa){clearInterval(rI);return;}vC.style.setProperty('--reverb-z',`${K_DIVINI_MODI.RAND(5,25)}px`);vC.style.setProperty('--reverb-scale',`${K_DIVINI_MODI.RAND(1.002,1.008)}`);vC.style.setProperty('--reverb-rotX',`${K_DIVINI_MODI.RAND(-0.8,0.3)}deg`);vC.style.setProperty('--reverb-rotY',`${K_DIVINI_MODI.RAND(-0.3,0.3)}deg`);vC.style.setProperty('--reverb-blur',`${K_DIVINI_MODI.RAND(0.1,0.5)}px`);vC.style.setProperty('--reverb-brightness',`${K_DIVINI_MODI.RAND(1.1,1.25)}`);},150);},parseFloat(vC.style.animationDuration.replace('s',''))*1000*0.25);});D_ELEMENTA.logosThronus.appendChild(vC);M_DIVINITAS.elementaActiva.add(vC);M_DIVINITAS.idxLogos++;vC.addEventListener('animationend',()=>{clearInterval(rI);if(vC.parentNode)vC.remove();M_DIVINITAS.elementaActiva.delete(vC);if(M_DIVINITAS.idxLogos<K_LOGOS_ULTRA.length)manifestaLogosUltra(lD.t.length>20?3500:2800);else setTimeout(initiaReditumAnagogicumUltra,K_TEMPORA_ULTRA.reditusAnagogIncep-(Date.now()-D_ELEMENTA.tempusInitiiPaginae));});creaSymbolaCosmica(K_DIVINI_MODI.RAND(100,500),lD.ai);creaOrdoSigillum(K_DIVINI_MODI.RAND(700,1200)*(1/(lD.ai+0.1)),lD);for(let i=0;i<Math.ceil(lD.ai*7);i++)creaLuxPrimaUnda(K_DIVINI_MODI.RAND(700,1400)+i*70);for(let i=0;i<Math.ceil(lD.ai*35);i++)creaIgnisDivinusUltra(K_DIVINI_MODI.RAND(200,800)+i*25,lD.ai*K_DIVINI_MODI.RAND(0.7,2.0));creaChorusAngelorum(K_DIVINI_MODI.RAND(900,1600),K_DIVINI_MODI.CHOICE(['seraphim','cherubim','thrones']),{},{rad:K_DIVINI_MODI.RAND(300,800)*lD.ai,vel:K_DIVINI_MODI.RAND(0.5,2)*lD.ai,comp:Math.floor(3+lD.ai*2)});if(Math.random()<lD.ai*0.8)creaSophiaNebula(K_DIVINI_MODI.RAND(1300,2200));if(Math.random()<lD.ai*0.7)creaGratiaFlumen(K_DIVINI_MODI.RAND(1000,1800));},d);}
    
    /* ORCHESTRATIO THEOPHANIAE SUPREMAE */
    function initiaTheophaniam(){D_ELEMENTA.tempusInitiiPaginae=Date.now();for(let i=0;i<30;i++)creaLuxPrimaUnda(K_TEMPORA_ULTRA.luxUndaSer+i*120+K_DIVINI_MODI.RAND(-40,40));for(let i=0;i<100;i++)creaIgnisDivinusUltra(K_TEMPORA_ULTRA.ignisBurst+i*30+K_DIVINI_MODI.RAND(-20,20),K_DIVINI_MODI.RAND(1,1.8));['seraphim','cherubim','thrones','other','other','seraphim'].forEach((t,idx)=>{for(let i=0;i<K_DIVINI_MODI.MAX_PART_CHORUS/2;i++)creaChorusAngelorum(K_TEMPORA_ULTRA.chorSeraphInit+idx*200+i*70+K_DIVINI_MODI.RAND(-100,100),t,{x:K_DIVINI_MODI.RAND(10,90),y:K_DIVINI_MODI.RAND(10,90),z:K_DIVINI_MODI.RAND(-1000,1000)},{rad:K_DIVINI_MODI.RAND(300,1800),vel:K_DIVINI_MODI.RAND(0.3,2),comp:K_DIVINI_MODI.RAND(5,10)});});for(let i=0;i<K_DIVINI_MODI.MAX_NEBULAE;i++)creaSophiaNebula(K_TEMPORA_ULTRA.sophNebPrim+i*1800+K_DIVINI_MODI.RAND(-300,300));for(let i=0;i<25;i++)creaGratiaFlumen(K_TEMPORA_ULTRA.gratFlumPrim+i*1500+K_DIVINI_MODI.RAND(-250,250));manifestaLogosUltra(K_TEMPORA_ULTRA.logosPrimProclam);const K_CONTIN_ULTRA=[{f:creaLuxPrimaUnda,i:6000,d:K_DIVINI_MODI.RAND(0,2500)},{f:()=>creaIgnisDivinusUltra(0,K_DIVINI_MODI.RAND(0.8,1.8)),i:350,d:K_DIVINI_MODI.RAND(0,200)},{f:()=>creaChorusAngelorum(0,K_DIVINI_MODI.CHOICE(['seraphim','cherubim','thrones','other'])),i:3500,d:K_DIVINI_MODI.RAND(0,1500)},{f:creaSophiaNebula,i:8000,d:K_DIVINI_MODI.RAND(0,4000)},{f:creaGratiaFlumen,i:7000,d:K_DIVINI_MODI.RAND(0,3000)},{f:()=>creaSymbolaCosmica(0,K_DIVINI_MODI.RAND(0.5,1.2)),i:12000,d:K_DIVINI_MODI.RAND(0,6000)}];K_CONTIN_ULTRA.forEach(tsk=>{setTimeout(()=>{if(M_DIVINITAS.activa)tsk.f(0);const id=setInterval(()=>{if(M_DIVINITAS.activa)tsk.f(0);else clearInterval(id);},tsk.i);M_DIVINITAS.elementaActiva.add(id);},tsk.d);});}
    
    /* REDITUS ANAGOGICUS AD PRINCIPIUM */
    function initiaReditumAnagogicumUltra(){if(!M_DIVINITAS.activa)return;M_DIVINITAS.activa=!1;M_DIVINITAS.elementaActiva.forEach(eOI=>{if(typeof eOI==='number')clearInterval(eOI);else if(eOI&&eOI.animate&&eOI.id!=='principium-incognitum'){if(eOI.parentNode)eOI.animate([{o:eOI.style.opacity||1},{o:0}],{duration:K_DIVINI_MODI.RAND(12000,20000),easing:'ease-in',fill:'forwards'}).onfinish=()=>{if(eOI.parentNode)eOI.remove();}}});M_DIVINITAS.elementaActiva.clear();const lFD=K_LOGOS_ULTRA[K_LOGOS_ULTRA.length-1];setTimeout(()=>{const vFC=document.createElement('div');vFC.classList.add('verbum-container');const vFP=document.createElement('div');vFP.classList.add('verbum-principale');vFP.textContent=lFD.t;vFP.style.fontFamily=lFD.f;const bFSF=parseFloat(lFD.sr)*8;vFP.style.fontSize=`clamp(${bFSF*0.3}em,${bFSF*0.8}vw,${bFSF*1.1}em)`;vFP.style.color=lFD.c;vFP.style.textShadow='0 0 15px var(--scintilla-prima),0 0 30px var(--pleroma-alba-margarita),0 0 50px var(--reditus-viola-obscura)';vFC.appendChild(vFP);if(lFD.gl){const vGF=document.createElement('div');vGF.classList.add('verbum-glosa-latina');vGF.textContent=lFD.gl;const gFSzF=(parseFloat(vFP.style.fontSize.match(/(\d*\.?\d*)vw/)?.[1]||bFSF*0.8*0.25))*0.25;vGF.style.fontSize=`${Math.max(0.7,gFSzF)}em`;vGF.style.marginTop=`${Math.max(0.25,gFSzF*0.2)}em`;vGF.style.color="var(--reditus-viola-obscura)";vFC.appendChild(vGF);}vFC.style.setProperty('--rand-rotY-start','0deg');vFC.style.setProperty('--rand-rotX-end','-10deg');vFC.style.setProperty('--rand-rotY-end','0deg');vFC.style.animation=`verbumEmergentiaDivina ${K_TEMPORA_ULTRA.logosFinalDur}s cubic-bezier(0.68,-0.55,0.27,1.55) forwards`;D_ELEMENTA.logosThronus.appendChild(vFC);vFC.addEventListener('animationend',()=>{vFC.remove();const{principium:p}=D_ELEMENTA;if(p&&p.parentNode){p.animate([{o:p.style.opacity||0.95,t:p.style.transform||'translate3d(-50%,-50%,0px) scale(1)',f:p.style.filter||'brightness(3)'},{o:1,t:'translate3d(-50%,-50%,-200px) scale(8)',f:'brightness(50) invert(1)',s:'0 0 1000px 500px var(--kenoma-profundum),0 0 500px 250px var(--scintilla-prima)',offset:0.7},{o:0,t:'translate3d(-50%,-50%,-2000px) scale(0.000001)',f:'brightness(0)',offset:1}],{duration:30000,easing:'cubic-bezier(0.76,0,0.24,1)',fill:'forwards'}).onfinish=()=>{if(p.parentNode)p.remove();document.body.animate([{backgroundColor:'var(--kenoma-profundum)'},{backgroundColor:'#000000'}],{duration:15000,fill:'forwards',delay:2000});cancelAnimationFrame(M_DIVINITAS.idFrameAnim);M_DIVINITAS.idFrameAnim=null;console.log("THEOSIS PERFECTA. IN SILENTIO DEI REQUIESCIT ANIMA.");};}else{document.body.animate([{backgroundColor:'var(--kenoma-profundum)'},{backgroundColor:'#000000'}],{duration:15000,fill:'forwards',delay:2000});cancelAnimationFrame(M_DIVINITAS.idFrameAnim);M_DIVINITAS.idFrameAnim=null;console.log("THEOSIS PERFECTA. IN SILENTIO DEI REQUIESCIT ANIMA.");}});},12000);}

    /* ANIMATIONIS MAGISTRA OPERATIO (RAF) */
    function ansaAnimMagistra(t){if(!M_DIVINITAS.tmpUltimum)M_DIVINITAS.tmpUltimum=t;reddeAether(t);if(M_DIVINITAS.idFrameAnim!==null)M_DIVINITAS.idFrameAnim=requestAnimationFrame(ansaAnimMagistra);}

    /* INITIUM EXPERIENTIAE DIVINAE POST ONUS PAGINAE */
    document.addEventListener('DOMContentLoaded',()=>{initAetherCanvas();M_DIVINITAS.idFrameAnim=requestAnimationFrame(ansaAnimMagistra);D_ELEMENTA.btnVisioPlena.addEventListener('click',()=>{const e=document.documentElement;if(!document.fullscreenElement&&!document.webkitFullscreenElement){if(e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();}});setTimeout(initiaTheophaniam,(parseFloat(getComputedStyle(document.body).animationDelay.replace('s',''))+parseFloat(getComputedStyle(document.body).animationDuration.replace('s','')))*1000-1500);});
  </script>
</body>
</html>