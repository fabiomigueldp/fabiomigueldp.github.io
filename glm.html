<!DOCTYPE html>
<html lang="la">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>VISIO MOBILIS - ACTUS PURUS</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=EB+Garamond:ital,wght@0,400;0,700&display=swap" rel="stylesheet">
  <style>
    :root {
      --void-black: #000002;
      --creator-white: #ffffff;
      --pure-gold: #FFD700;
      --ethereal-blue: #2c5a8c;
      --cosmic-azure: #1e3a5f;
      --divine-crimson: #a02040;
      --seraphic-pink: rgba(255, 182, 193, 0.3); /* Softer for mobile */
      --stardust-gold: rgba(255, 215, 0, 0.7); /* Slightly less opaque */
      --genesis-glow: rgba(255, 255, 220, 0.5);
    }

    html, body {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
      background-color: var(--void-black);
      font-family: 'EB Garamond', 'Cinzel', serif;
      opacity: 0;
      animation: fadeInPage 3s ease-out forwards; /* Shorter delay */
      animation-delay: 0.5s;
      -webkit-tap-highlight-color: transparent; /* Remove tap highlight on iOS */
    }

    @keyframes fadeInPage { to { opacity: 1; } }

    #divine-canvas {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      perspective: 1200px; /* Reduced perspective */
      perspective-origin: 50% 50%;
      animation: universeBreathMobile 40s ease-in-out infinite alternate;
      z-index: 1;
    }
    @keyframes universeBreathMobile { /* More subtle breath */
        0% { transform: scale(1); opacity: 0.98; }
        100% { transform: scale(1.002); opacity: 1; }
    }

    #fullscreen-button {
      position: fixed;
      bottom: 15px; /* Adjust for smaller screens */
      right: 15px;
      padding: 12px 18px; /* Slightly larger tap area */
      background-color: rgba(255,215,0,0.15);
      color: var(--stardust-gold);
      border: 1px solid var(--stardust-gold);
      border-radius: 8px; /* Softer radius */
      font-family: 'Cinzel', serif;
      font-size: 13px; /* Smaller font */
      cursor: pointer;
      opacity: 0.6;
      transition: opacity 0.3s, background-color 0.3s;
      z-index: 9999;
    }
    #fullscreen-button:hover, #fullscreen-button:active { /* :active for touch feedback */
      opacity: 1;
      background-color: rgba(255,215,0,0.3);
    }
    body:fullscreen #fullscreen-button,
    body:-webkit-full-screen #fullscreen-button { /* Safari specific */
      display: none;
    }

    /* --- FIAT LUX CORE --- */
    #fiat-lux-core {
      position: absolute;
      top: 50%; left: 50%;
      width: 4px; height: 4px;
      border-radius: 50%;
      background-color: var(--creator-white);
      box-shadow: 0 0 0px 0px var(--creator-white);
      opacity: 0;
      transform: translate(-50%, -50%) scale(0.05);
      z-index: 10;
    }

    /* --- EMANATIONS (SIMPLIFIED FOR MOBILE) --- */
    .energy-wave {
      position: absolute;
      border-radius: 50%;
      border: 1px solid var(--stardust-gold);
      opacity: 0; pointer-events: none; z-index: 5;
    }

    .nebula-of-glory {
      position: absolute;
      border-radius: 40% 60% 55% 45% / 45% 55% 50% 50%;
      opacity: 0; mix-blend-mode: screen; pointer-events: none; z-index: 3;
      animation: slowNebulaDriftMobile 70s linear infinite alternate, /* Slower drift */
                 nebulaMorphMobile 50s ease-in-out infinite alternate;
    }
    @keyframes slowNebulaDriftMobile {
        0% { transform: translate(-50%, -50%) translateX(0px) translateY(0px) rotate(0deg) scale(0.9); } /* Start slightly smaller */
        100% { transform: translate(-50%, -50%) translateX(10px) translateY(-10px) rotate(10deg) scale(1); }
    }
    @keyframes nebulaMorphMobile {
      0%, 100% { border-radius: 40% 60% 55% 45% / 45% 55% 50% 50%; }
      50% { border-radius: 55% 45% 60% 40% / 50% 50% 45% 55%; }
    }

    .celestial-particle {
      position: absolute;
      border-radius: 50%;
      opacity: 0; pointer-events: none; z-index: 7;
    }
    /* Trail omitted for performance by default on mobile, can be added sparingly */

    .ether-stream {
        position: absolute;
        height: 1px; /* Very thin */
        background: linear-gradient(to right, transparent, var(--pure-gold), transparent);
        opacity: 0; filter: blur(0.5px); pointer-events: none; z-index: 6;
    }

    .sacred-geometry-echo { /* Simplified visual */
        position: absolute;
        width: 150px; height: 150px; /* Smaller */
        border: 1px solid rgba(255,215,0,0.15); /* Fainter */
        border-radius: 50%; opacity: 0;
        top: 50%; left: 50%;
        transform: translate(-50%, -50%) scale(0.1);
        pointer-events: none; z-index: 8;
    }

    /* --- VERBUM DIVINUM --- */
    #verbum-divinum-container {
      position: fixed; width: 100%; height: 100%;
      top: 0; left: 0;
      display: flex; align-items: center; justify-content: center;
      z-index: 100; pointer-events: none;
    }
    .verbum-text {
      /* Responsive font size, less extreme than desktop */
      font-size: clamp(2.5em, 12vw, 7em);
      font-weight: 900; font-family: 'Cinzel', serif;
      color: var(--creator-white);
      text-shadow: /* Simplified shadow for mobile performance */
        0 0 8px var(--creator-white),
        0 0 20px var(--genesis-glow),
        0 0 35px var(--pure-gold),
        0 0 50px var(--ethereal-blue);
      opacity: 0; position: absolute;
      animation: resonateVerbumMobile 11s cubic-bezier(0.19, 1, 0.22, 1) forwards;
      filter: blur(6px); /* Slightly less blur */
    }
    @keyframes resonateVerbumMobile { /* Similar timings, maybe slightly faster total */
      0% { opacity: 0; transform: scale(0.5) rotateX(30deg); filter: blur(15px); }
      15% { opacity: 1; transform: scale(1) rotateX(0deg); filter: blur(0px); }
      75% { opacity: 1; transform: scale(1.02) rotateX(0deg); filter: blur(0.5px); } /* Less pulse */
      100% { opacity: 0; transform: scale(1.4) rotateX(-30deg); filter: blur(20px); }
    }
  </style>
</head>
<body>

  <button id="fullscreen-button" aria-label="Enter Fullscreen">Fullscreen</button> <!-- Shorter text -->

  <div id="divine-canvas">
    <div id="fiat-lux-core"></div>
  </div>

  <div id="verbum-divinum-container"></div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const divineCanvas = document.getElementById('divine-canvas');
      const fiatLuxCore = document.getElementById('fiat-lux-core');
      const verbumContainer = document.getElementById('verbum-divinum-container');
      const fullscreenButton = document.getElementById('fullscreen-button');

      let isExperienceActive = true;
      const IS_MOBILE = true; // Flag for conditional logic, though much is handled by reduced counts

      const animationDelays = {
        coreAppear: IS_MOBILE ? 1500 : 2500,
        coreExpand: IS_MOBILE ? 2000 : 3000,
        firstWave: IS_MOBILE ? 2800 : 4000,
        firstNebula: IS_MOBILE ? 3500 : 5000,
        firstParticles: IS_MOBILE ? 4000 : 5500,
        firstStream: IS_MOBILE ? 4300 : 6000,
        firstWord: IS_MOBILE ? 5000 : 7500,
      };

      const latinVerba = [ // Shorter list for mobile, or cycle faster
        "FIAT", "LUX", "SPIRITUS", "CREATIO", "INFINITAS", "GLORIA", "ACTUS PURUS"
      ];
      let verbumIndex = 0;

      fullscreenButton.addEventListener('click', () => {
        const el = document.documentElement;
        if (!document.fullscreenElement && !document.webkitFullscreenElement) {
          if (el.requestFullscreen) el.requestFullscreen();
          else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen(); // Essential for Safari
        }
      });

      // --- FIAT LUX CORE (MOBILE) ---
      setTimeout(() => {
        fiatLuxCore.style.transition = 'opacity 0.7s ease-out, transform 0.7s ease-out, box-shadow 1.2s ease-out';
        fiatLuxCore.style.opacity = '1';
        fiatLuxCore.style.transform = 'translate(-50%, -50%) scale(1.2)';
        fiatLuxCore.style.boxShadow = `
          0 0 50px 25px var(--creator-white),
          0 0 100px 50px var(--genesis-glow),
          0 0 180px 90px var(--stardust-gold)`; // Simplified glow
      }, animationDelays.coreAppear);

      setTimeout(() => {
        const coreSize = Math.min(window.innerWidth, window.innerHeight) * (IS_MOBILE ? 0.05 : 0.08); // Smaller expansion on mobile
        fiatLuxCore.style.transition = `
            transform 8s cubic-bezier(0.165, 0.84, 0.44, 1),
            box-shadow 8s cubic-bezier(0.165, 0.84, 0.44, 1),
            opacity 5s ease-out 3s`;
        fiatLuxCore.style.transform = `translate(-50%, -50%) scale(${coreSize})`;
        fiatLuxCore.style.boxShadow = `
            0 0 1500px 750px var(--genesis-glow), /* Reduced spread */
            0 0 2500px 1250px rgba(255,215,0,0.1)`;
        fiatLuxCore.style.opacity = '0.08'; // Slightly more visible "distant sun" for mobile

        setTimeout(() => {
            if (!isExperienceActive) return;
            // No complex distant sun pulse animation for mobile performance. It's a faint static glow.
            fiatLuxCore.style.transition = 'opacity 5s ease-in-out';
        }, animationDelays.coreExpand + 8000);

      }, animationDelays.coreExpand);


      // --- CREATION FUNCTIONS (COUNTS REDUCED FOR MOBILE) ---
      function createEnergyWave(delay) {
        setTimeout(() => {
          if (!isExperienceActive) return;
          const wave = document.createElement('div');
          wave.classList.add('energy-wave');
          wave.style.top = `${Math.random()*50 + 25}%`; wave.style.left = `${Math.random()*50 + 25}%`;
          const initialSize = Math.random() * 20 + 5; // Smaller
          wave.style.width = `${initialSize}px`; wave.style.height = `${initialSize}px`;
          wave.style.borderWidth = `${Math.random()*1+0.5}px`;

          const colors = [ 'var(--stardust-gold)', 'var(--creator-white)', 'var(--ethereal-blue)'];
          wave.style.borderColor = colors[Math.floor(Math.random() * colors.length)];
          divineCanvas.appendChild(wave);
          const maxScale = Math.random() * 12 + 8; // Smaller expansion
          wave.animate([
            { opacity: 0, transform: `translate(-50%, -50%) scale(0.1)` },
            { opacity: Math.random() * 0.3 + 0.3, offset: 0.05 },
            { opacity: 0, transform: `translate(-50%, -50%) scale(${maxScale})`, borderWidth: '0px' }
          ], { duration: Math.random() * 5000 + 4000, easing: 'cubic-bezier(0.12,0,0.39,0)', iterations: 1 }
          ).onfinish = () => wave.remove();
        }, delay);
      }

      function createNebulaOfGlory(delay) {
         setTimeout(() => {
            if (!isExperienceActive) return;
            const nebula = document.createElement('div');
            nebula.classList.add('nebula-of-glory');
            const baseSize = Math.random() * Math.min(window.innerWidth,window.innerHeight) * 0.2 + 80; // Smaller nebulas
            nebula.style.width = `${baseSize}px`;
            nebula.style.height = `${baseSize * (Math.random() * 0.4 + 0.8)}px`;
            nebula.style.top = `${Math.random() * 70 + 15}%`; nebula.style.left = `${Math.random() * 70 + 15}%`;
            
            const c1 = `rgba(255,215,0,${Math.random()*0.1+0.03})`; // Fainter
            const c2 = `rgba(44,90,140,${Math.random()*0.08+0.03})`;
            const c3 = `rgba(255,255,255,${Math.random()*0.08+0.02})`;
            nebula.style.background = `radial-gradient(ellipse at center, ${c3} 0%, ${c1} 20%, ${c2} 50%, transparent 70%)`; // Simplified gradient
            nebula.style.animationDuration = `${Math.random()*50+50}s, ${Math.random()*40+40}s`;

            divineCanvas.appendChild(nebula);
            nebula.animate([
                { opacity: 0 }, { opacity: Math.random() * 0.3 + 0.15, offset: 0.1 }, // Fainter
                { opacity: Math.random() * 0.2 + 0.1, offset: 0.9 }, { opacity: 0 }
            ], { duration: Math.random() * 12000 + 10000, easing: 'ease-in-out' }
            ).onfinish = () => nebula.remove();
        }, delay);
      }

      function createCelestialParticleSwarm(delay, count = (IS_MOBILE ? 15 : 25), baseX, baseY) { // Reduced count
        setTimeout(() => {
          if (!isExperienceActive) return;
          for (let i = 0; i < count; i++) {
            const p = document.createElement('div');
            p.classList.add('celestial-particle');
            const size = (Math.random() * 1.5 + 0.5); // Smaller particles
            p.style.width = `${size}px`; p.style.height = `${size}px`;
            const particleColor = 'var(--stardust-gold)'; // Simpler color
            p.style.backgroundColor = particleColor;
            p.style.boxShadow = `0 0 ${size*1.5}px ${particleColor}`; // Simpler shadow

            const originX = baseX !== undefined ? baseX : (Math.random() * 70 + 15);
            const originY = baseY !== undefined ? baseY : (Math.random() * 70 + 15);
            p.style.left = `${originX}%`; p.style.top = `${originY}%`;

            const travelRadius = Math.random() * 150 + 80; // Shorter travel
            const angle = Math.random() * Math.PI * 2;
            const travelX = Math.cos(angle) * travelRadius;
            const travelY = Math.sin(angle) * travelRadius;
            p.animate([
              { opacity: 0, transform: `translate(0,0) scale(0.3)` },
              { opacity: 0.8, transform: `translate(0,0) scale(1)`, offset: 0.05 },
              { opacity: 0.6, offset: 0.85 },
              { opacity: 0, transform: `translate(${travelX}px, ${travelY}px) scale(0.2)` }
            ], { duration: Math.random() * 6000 + 4000, easing: 'cubic-bezier(0.22,1,0.36,1)', delay: Math.random()*500 }
            ).onfinish = () => p.remove();
            divineCanvas.appendChild(p);
          }
        }, delay);
      }
      
      function createEtherStream(delay) {
        setTimeout(() => {
            if (!isExperienceActive) return;
            // Less frequent or omit for mobile if too costly
            if (IS_MOBILE && Math.random() > 0.6) return; 

            const stream = document.createElement('div');
            stream.classList.add('ether-stream');
            /* ... (stream logic similar to desktop, potentially simplified width/duration) ... */
            const startY = Math.random() * 100;
            const startX = Math.random() > 0.5 ? -10 : 90;
            const endX = startX < 0 ? 110 : -10;
            const length = Math.random() * 30 + 15; // Shorter
            stream.style.top = `${startY}vh`; stream.style.left = `${startX}vw`; stream.style.width = `${length}vw`;
            stream.style.transform = `rotate(${(Math.random() -0.5) * 10}deg)`;
            divineCanvas.appendChild(stream);
            stream.animate([
                { opacity: 0, left: `${startX}vw` },
                { opacity: Math.random() * 0.4 + 0.15, offset: 0.1 },
                { opacity: Math.random() * 0.3 + 0.1, offset: 0.9 },
                { opacity: 0, left: `${endX}vw`}
            ], { duration: Math.random() * 8000 + 6000, easing: 'linear' }
            ).onfinish = () => stream.remove();
        }, delay);
      }

      function createSacredEcho(delay) { // Simpler version for mobile
        setTimeout(() => {
            if(!isExperienceActive) return;
            const echo = document.createElement('div');
            echo.classList.add('sacred-geometry-echo');
            divineCanvas.appendChild(echo);
            echo.animate([
                { opacity: 0, transform: `translate(-50%, -50%) scale(0.1)` },
                { opacity: 0.5, transform: `translate(-50%, -50%) scale(1.2)`, offset: 0.2 },
                { opacity: 0, transform: `translate(-50%, -50%) scale(1.8)` }
            ], { duration: 3500, easing: 'cubic-bezier(0,.72,.23,1)'}
            ).onfinish = () => echo.remove();
        }, delay);
      }

      // --- VERBUM DIVINUM (MOBILE) ---
      function showNextVerbum(initialDelay = 0) {
        if (!isExperienceActive || verbumIndex >= latinVerba.length) {
            if (isExperienceActive) setTimeout(initiateContemplativePhase, IS_MOBILE ? 4000 : 8000);
            return;
        }
        setTimeout(() => {
          if (!isExperienceActive) return;
          const currentWord = latinVerba[verbumIndex];
          const textEl = document.createElement('div');
          textEl.classList.add('verbum-text');
          textEl.textContent = currentWord;
          verbumContainer.appendChild(textEl);
          verbumIndex++;

          textEl.addEventListener('animationend', () => {
            textEl.remove();
            if (verbumIndex < latinVerba.length) {
                 showNextVerbum(currentWord.length > 6 ? (IS_MOBILE ? 1200 : 2000) : (IS_MOBILE ? 800 : 1500));
            } else {
                 setTimeout(initiateContemplativePhase, IS_MOBILE ? 5000 : 8000);
            }
          });
          createSacredEcho(200);
          createCelestialParticleSwarm(500, IS_MOBILE ? 10: 20, 50, 50);
          if(Math.random() < (IS_MOBILE ? 0.4 : 0.6)) createNebulaOfGlory(800);
        }, initialDelay);
      }

      // --- ORCHESTRATION (COUNTS REDUCED) ---
      for(let i=0; i < (IS_MOBILE ? 3 : 7); i++) createEnergyWave(animationDelays.firstWave + i * (IS_MOBILE ? 600:400));
      for(let i=0; i < (IS_MOBILE ? 2 : 4); i++) createNebulaOfGlory(animationDelays.firstNebula + i * (IS_MOBILE ? 2500:1800));
      createCelestialParticleSwarm(animationDelays.firstParticles, IS_MOBILE ? 25 : 70, 50, 40);
      for(let i=0; i < (IS_MOBILE ? 2 : 5); i++) createEtherStream(animationDelays.firstStream + i * (IS_MOBILE ? 1500:1000));
      showNextVerbum(animationDelays.firstWord);

      const intervalIds = [];
      function setupContinuousCreation() { // Less frequent intervals
        intervalIds.push(setInterval(() => { if (isExperienceActive) createEnergyWave(0); }, IS_MOBILE ? 12000 : 9000));
        intervalIds.push(setInterval(() => { if (isExperienceActive) createNebulaOfGlory(Math.random()*(IS_MOBILE?5000:4000)); }, IS_MOBILE ? 18000 : 15000));
        intervalIds.push(setInterval(() => { if (isExperienceActive) createCelestialParticleSwarm(0, IS_MOBILE ? 8 : 15, Math.random()*100, Math.random()*100);}, IS_MOBILE ? 10000 : 7000));
        // Ether streams might be omitted from interval on mobile if too heavy
        if (!IS_MOBILE) intervalIds.push(setInterval(() => { if (isExperienceActive) createEtherStream(Math.random()*3000); }, 11000));
      }
      setupContinuousCreation();

      // --- CONTEMPLATIVE PHASE (MOBILE) ---
      function initiateContemplativePhase() {
        isExperienceActive = false;
        intervalIds.forEach(clearInterval);

        if (IS_MOBILE) { // Simpler contemplation for mobile
            setTimeout(() => createSlowFadingNebula(true), 1000);
            setTimeout(() => createGentleParticleDrift(10, true), 500);
        } else {
             for(let i=0; i<3; i++) { /* ... desktop logic ... */ }
        }

        const finalVerbum = "AMEN";
        setTimeout(() => {
             const textEl = document.createElement('div');
             textEl.classList.add('verbum-text');
             textEl.textContent = finalVerbum;
             textEl.style.animation = `resonateVerbumMobile ${IS_MOBILE ? 15 : 20}s cubic-bezier(0.19,1,0.22,1) forwards`;
             textEl.style.fontSize = `clamp(${IS_MOBILE ? '1.8em':'2em'}, ${IS_MOBILE ? '6vw':'5vw'}, ${IS_MOBILE ? '5em':'7em'})`;
             textEl.style.textShadow = `0 0 8px var(--creator-white), 0 0 15px var(--stardust-gold)`;
             verbumContainer.appendChild(textEl);
             textEl.addEventListener('animationend', () => {
                 textEl.remove();
                 document.body.style.transition = `opacity ${IS_MOBILE ? 6 : 8}s ease-out 1s`;
                 document.body.style.opacity = "0";
             });
        }, IS_MOBILE ? 6000 : 10000);
      }

      function createSlowFadingNebula(isMobileOverride = false) {
        const nebula = document.createElement('div');
        nebula.classList.add('nebula-of-glory');
        const baseSize = Math.random() * Math.min(window.innerWidth, window.innerHeight) * (isMobileOverride ? 0.3 : 0.4) + (isMobileOverride? 100 : 200);
        nebula.style.width = `${baseSize}px`; nebula.style.height = `${baseSize * (Math.random() * 0.3 + 0.9)}px`;
        nebula.style.top = `${Math.random() * 60 + 20}%`; nebula.style.left = `${Math.random() * 60 + 20}%`;
        nebula.style.background = `radial-gradient(ellipse at center, rgba(255,255,255,0.05) 0%, rgba(44,90,140,0.03) 40%, transparent 65%)`; // Fainter
        nebula.style.animation = `slowNebulaDriftMobile ${isMobileOverride ? 100 : 120}s linear infinite alternate, nebulaMorphMobile ${isMobileOverride? 80:90}s ease-in-out infinite alternate`;
        divineCanvas.appendChild(nebula);
        nebula.animate([ { opacity: 0 }, { opacity: Math.random() * 0.1 + 0.03, offset: 0.1 }, { opacity: 0, offset:1 }],
            { duration: (isMobileOverride ? 30000 : 45000) + Math.random()*10000, easing: 'ease-in-out' }
        ).onfinish = () => nebula.remove();
      }

       function createGentleParticleDrift(count, isMobileOverride = false) {
         for (let i = 0; i < count; i++) {
            const p = document.createElement('div');
            p.classList.add('celestial-particle');
            const size = Math.random() * 1.2 + 0.2; // Even smaller
            p.style.width = `${size}px`; p.style.height = `${size}px`;
            p.style.backgroundColor = 'rgba(255,223,100,0.4)';
            p.style.boxShadow = `none`; // No shadow for max perf on these faint ones
            p.style.left = `${Math.random()*100}%`; p.style.top = `${Math.random()*100}%`;
            const driftX = (Math.random() - 0.5) * 80; const driftY = (Math.random() - 0.5) * 80;
            p.animate([
              { opacity: 0, transform: `translate(0,0)` },
              { opacity: Math.random() * 0.3 + 0.15, offset: 0.1},
              { opacity: 0, transform: `translate(${driftX}px, ${driftY}px)`, offset: 1}
            ], { duration: (isMobileOverride ? 20000 : 30000) + Math.random()*15000, easing: 'linear', delay: Math.random()*3000 }
            ).onfinish = () => p.remove();
            divineCanvas.appendChild(p);
         }
       }
    });
  </script>

</body>
</html>